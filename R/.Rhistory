colourvalues::colour_values(c(1:10,10:1), palette = "ylorrd")
colourvalues::colour_values( palette = "ylorrd")
colourvalues::show_colours()
colourvalues::colour_palettes()
colourvalues::colour_palettes('ylorrd')
colourvalues::colour_palettes('ylorrd')
colourvalues::colour_values(10:1)
colourvalues::colour_values(10:1,palette = 'ylorrd')
colourvalues::colour_values(1:10,palette = 'ylorrd')
test = colourvalues::colour_values(1:10,palette = 'ylorrd')
key = read.delim('./mapbox_token.txt',header=F)
key = toString(key[,1])
#load libraries
source('./source/EasyLoad.R')
packages <- c('mapdeck','rgdal','sf','geojsonsf','htmlwidgets')
EasyLoad(packages)
#load libraries
source('./source/EasyLoad.R')
setwd("~/act/InsideAirBnB/fairbnb-python-analysis/R")
#load libraries
source('./source/EasyLoad.R')
packages <- c('mapdeck','rgdal','sf','geojsonsf','htmlwidgets')
EasyLoad(packages)
key = read.delim('./mapbox_token.txt',header=F)
key = toString(key[,1])
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration2018.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$Airbnb_TouristIntensity <-as.numeric(infiltration_geojson$Airbnb_TouristIntensity)
infiltration_geojson$Airbnb_TouristIntensity <- infiltration_geojson$Airbnb_TouristIntensity *1000
ms = mapdeck_style("light")
test = colourvalues::colour_values(1:10,palette = 'ylorrd')
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = paste('Beds per inhabitant: ','Airbnb_TouristIntensity'),palette = test,legend_options = list(title='Distance (m) 2018')
)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = paste('Beds per inhabitant: ','Airbnb_TouristIntensity'),palette = 'ylorrd',legend_options = list(title='Distance (m) 2018')
)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = paste('Beds per inhabitant: ','Airbnb_TouristIntensity'),palette = rainbow(6),legend_options = list(title='Distance (m) 2018')
)
test = colourvalues::colour_values(infiltration_geojson$Airbnb_TouristIntensity,palette = 'ylorrd')
test
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = paste('Beds per inhabitant: ','Airbnb_TouristIntensity'),palette = test,legend_options = list(title='Distance (m) 2018')
)
View(infiltration_geojson)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = paste('Beds per inhabitant: ','Airbnb_TouristIntensity'),palette = 'heat',legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = paste('Beds per inhabitant: ','Airbnb_TouristIntensity'),palette = 'blue2red',legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = paste('Beds per inhabitant: ','Airbnb_TouristIntensity'),palette = 'rdylgn',legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = paste('Beds per inhabitant: ','Airbnb_TouristIntensity'),palette = 'ylorrd',legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
View(infiltration_geojson)
test = geojson_sf('./data/neighbourhoods_infiltration.geojson')
View(test)
test$airbnbpopup[,1]
test$airbnbpopup[]
test$airbnbpopup[1]
colnames(infiltration_geojson)
infiltration_geojson[1]
infiltration_geojson$Buurt[1]
paste("<strong>",infiltration_geojson$Buurt[1],'</strong><br/>',)
paste("<strong>",infiltration_geojson$Buurt[1],'</strong><br/>')
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = paste('Beds per inhabitant: ','Airbnb_TouristIntensity'),palette = 'ylorrd',legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = T)
paste("<strong>",infiltration_geojson$Buurt[1],'</strong><br/>',
'<b>Mean distance Hotel-Airbnb 2018:</b>',infiltration_geojson$dist2hot2018[1],"<br>",
'<b>Hotel bed count 2018:</b>',infiltration_geojson$Airbnb_TouristIntensity[1],"<br>",
'<b>Airbnb bed intensity 2018:</b>',infiltration_geojson$Airbnb_TouristIntensity[1],"<br>",
'<b>Airbnb bed count 2018:</b>',infiltration_geojson$Airbnb_BedsCount[1],"<br>",
'<b>Population 2018:</b>',infiltration_geojson$Pop2018[1])
infiltration_geojson$tooltip <- NA
length(infiltration_geojson)
nrow(infiltration_geojson)
infiltration_geojson$tooltip[1]
infiltration_geojson$tooltip[1,]
infiltration_geojson$tooltip[,1]
for(i in 1:nrow(infiltration_geojson)) {
infiltration_geojson$tooltip[i] <- paste("<strong>",infiltration_geojson$Buurt[i],'</strong><br/>',
'<b>Mean distance Hotel-Airbnb 2018:</b>',infiltration_geojson$dist2hot2018[i],"<br>",
'<b>Hotel bed count 2018:</b>',infiltration_geojson$Airbnb_BedsCount[i],"<br>",
'<b>Airbnb bed intensity 2018:</b>',infiltration_geojson$Airbnb_TouristIntensity[i],"<br>",
'<b>Airbnb bed count 2018:</b>',infiltration_geojson$Airbnb_BedsCount[i],"<br>",
'<b>Population 2018:</b>',infiltration_geojson$Pop2018[i])
}
View(infiltration_geojson)
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'tooltip',palette = 'ylorrd',legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = T)
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'tooltip',palette = 'ylorrd',legend_options = list(title='Distance (m) 2018',css = "background-color: white")
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = T)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'tooltip',palette = 'ylorrd',legend_options = list(title='Distance (m) 2018',css = "background-color: white;")
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = T)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'tooltip',palette = 'ylorrd',legend_options = list(title='Distance (m) 2018',css = "color: black;")
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = T)
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'tooltip',palette = 'ylorrd',legend_options = list(title='Distance (m) 2018',fill_colour = 'black')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = T)
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'tooltip',palette = 'ylorrd',legend_options = list(title='Distance (m) 2018'),legend_format = list(fill_colour = 'black')
)
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'tooltip',palette = 'ylorrd',legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = T)
for(i in 1:nrow(infiltration_geojson)) {
infiltration_geojson$tooltip[i] <- paste("<strong>",infiltration_geojson$Buurt[i],'</strong><br/>',
'<b>Mean distance Hotel-Airbnb 2018 (m):</b>',infiltration_geojson$dist2hot2018[i],"<br>",
'<b>Hotel bed count 2018:</b>',infiltration_geojson$Airbnb_BedsCount[i],"<br>",
'<b>Airbnb bed intensity 2018:</b>',infiltration_geojson$Airbnb_TouristIntensity[i],"<br>",
'<b>Airbnb bed count 2018:</b>',infiltration_geojson$Airbnb_BedsCount[i],"<br>",
'<b>Population 2018:</b>',infiltration_geojson$Pop2018[i])
}
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'tooltip',palette = 'ylorrd',legend_options = list(title='Mean distance Hotel-Airbnb 2018 (m)')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = T)
