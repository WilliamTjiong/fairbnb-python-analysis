#load libraries
source('./source/EasyLoad')
#load libraries
source('./source/EasyLoad.R')
setwd("~/act/InsideAirBnB/fairbnb-python-analysis/R")
#load libraries
source('./source/EasyLoad.R')
packages <- c('mapdeck','rgdal','sf','geojsonsf')
EasyLoad(packages)
MAPBOX = read.delim('./mapbox_token.txt')
MAPBOX = read.csv('./mapbox_token.txt')
MAPBOX = read.delim('./mapbox_token.txt')
MAPBOX = read.delim('./mapbox_token.txt',header=F,sep="")
MAPBOX = read.delim('./mapbox_token.txt',header=F,sep="")
MAPBOX = read.delim('./mapbox_token.txt',header=T,sep="")
MAPBOX = read.delim('./mapbox_token.txt',header=F,sep="")
MAPBOX = 'pk.eyJ1Ijoic2VucGFpbWFwIiwiYSI6ImNqeGRzaG02dTAza3Uzb2w3aTA1Y2NkaTgifQ.tKJOjrcXcOlkRnpE05VdCw'
MAPBOX = read.delim('./mapbox_token.txt',header=F,sep="")
View(MAPBOX)
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
colnames(infiltration_geojson@data)
colnames(infiltration_geojson)
View(infiltration_geojson)
View(infiltration_geojson)
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
View(infiltration_geojson)
colnames(infiltration_geojson)
ms = mapdeck_style("light")
m <- mapdeck(token= MAPBOX, style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10)
add_polygon(map = m,data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",fill_opacity=255,
tooltip = 'airbnbpopup'
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
packages <- c('mapdeck','rgdal','sf','geojsonsf','htmlwidgets')
EasyLoad(packages)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = T)
MAPBOX = read.delim('./mapbox_token.txt',header=F,sep="")
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
ms = mapdeck_style("light")
m <- mapdeck(token= MAPBOX, style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",fill_opacity=255,
tooltip = 'airbnbpopup'
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
infiltration_geojson$dist2hot2018 <-infiltration_geojson$dist2hot2018 * 100
ms = mapdeck_style("dark")
m <- mapdeck(token= MAPBOX, style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",fill_opacity=255,
tooltip = 'airbnbpopup'
)
m <- mapdeck(token= MAPBOX, style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",fill_opacity=255,
tooltip = 'airbnbpopup'
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
infiltration_geojson$dist2hot2018 <- infiltration_geojson$dist2hot2018 * 100
infiltration_geojson$dist2hot2018 * 100
infiltration_geojson$dist2hot2018 * 100
infiltration_geojson$dist2hot2018
class(infiltration_geojson$dist2hot2018)
as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$dist2hot2018
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
ms = mapdeck_style("dark")
m <- mapdeck(token= MAPBOX, style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",fill_opacity=255,
tooltip = 'airbnbpopup'
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
infiltration_geojson$dist2hot2018 <- infiltration_geojson$dist2hot2018 * 100
m <- mapdeck(token= MAPBOX, style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",fill_opacity=255,
tooltip = 'airbnbpopup'
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
m <- mapdeck(token= MAPBOX, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",fill_opacity=255,
tooltip = 'airbnbpopup'
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$dist2hot2018 <- infiltration_geojson$dist2hot2018 * 300
ms = mapdeck_style("dark")
ms = mapdeck_style("light")
m <- mapdeck(token= MAPBOX,style=ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",fill_opacity=255,
tooltip = 'airbnbpopup'
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
View(infiltration_geojson)
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$airbnbbed_pressure <- infiltration_geojson$airbnbbed_pressure * 1000
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$airbnbbed_pressure8 <-as.numeric(infiltration_geojson$airbnbbed_pressure)
infiltration_geojson$airbnbbed_pressure <- infiltration_geojson$airbnbbed_pressure * 1000
packages <- c('mapdeck','rgdal','sf','geojsonsf','htmlwidgets')
EasyLoad(packages)
#load libraries
source('./source/EasyLoad.R')
packages <- c('mapdeck','rgdal','sf','geojsonsf','htmlwidgets')
EasyLoad(packages)
MAPBOX = read.delim('./mapbox_token.txt',header=F,sep="")
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$airbnbbed_pressure <-as.numeric(infiltration_geojson$airbnbbed_pressure)
infiltration_geojson$airbnbbed_pressure <- infiltration_geojson$airbnbbed_pressure * 1000
ms = mapdeck_style("light")
m <- mapdeck(token= MAPBOX,style=ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",fill_opacity=255,
tooltip = 'airbnbpopup'
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$airbnbbed_pressure <-as.numeric(infiltration_geojson$airbnbbed_pressure)
infiltration_geojson$airbnbbed_pressure <- infiltration_geojson$airbnbbed_pressure
ms = mapdeck_style("light")
m <- mapdeck(token= MAPBOX,style=ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",fill_opacity=255,
tooltip = 'airbnbpopup'
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
MAPBOX = read.delim('./mapbox_token.txt',header=F,sep="")
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$airbnbbed_pressure <-as.numeric(infiltration_geojson$airbnbbed_pressure)
infiltration_geojson$airbnbbed_pressure <- infiltration_geojson$airbnbbed_pressure *100
ms = mapdeck_style("light")
m <- mapdeck(token= MAPBOX,style=ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",fill_opacity=255,
tooltip = 'airbnbpopup'
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
ms = mapdeck_style("light")
m <- mapdeck(token= MAPBOX,style=ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",fill_opacity=255,
tooltip = 'airbnbpopup',palette = "ylorrd"
)
m
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = T)
ms = mapdeck_style("light")
m <- mapdeck(token= MAPBOX,style=ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd"
)
m
m <- mapdeck(token= MAPBOX,style=ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",elevation_scale = 10
)
m <- mapdeck(token= MAPBOX,style=ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd"
)%>%
add_bitmap(image='http://pluspng.com/img-png/free-png-north-arrow-big-image-png-1659.png')
m <- mapdeck(token= MAPBOX,style=ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd"
)%>%
add_bitmap(
image = 'https://raw.githubusercontent.com/uber-common/deck.gl-data/master/website/sf-districts.png'
, bounds = c(-122.519, 37.7045, -122.355, 37.829)
)
ms = mapdeck_style("light")
m <- mapdeck(token= MAPBOX,style=ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd"
)%>%
add_bitmap(
image = 'https://raw.githubusercontent.com/uber-common/deck.gl-data/master/website/sf-districts.png'
, bounds = c(-122.519, 37.7045, -122.355, 37.829)
)
m
m <- mapdeck(token= MAPBOX,style=ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Test')
)
m
packageVersion("mapdeck")
MAPBOX = read.delim('./mapbox_token.txt',header=F,sep="")
token = get_access_token(api = MAPBOX)
token = get_access_token(api = "mapbox")
key = read.delim('./mapbox_token.txt',header=F,sep="")
set_token(key)
token = get_access_token(api = key)
key
m <- mapdeck(token= key,style=ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
m
m <- mapdeck(token= key,style=style = 'mapbox://styles/mapbox/dark-v9', pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
m <- mapdeck(token= key,style = 'mapbox://styles/mapbox/dark-v9', pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
m
key = read.delim('./mapbox_token.txt',header=F,sep="")
key
#load libraries
source('./source/EasyLoad.R')
packages <- c('mapdeck','rgdal','sf','geojsonsf','htmlwidgets')
EasyLoad(packages)
key = read.delim('./mapbox_token.txt',header=F,sep="")
key
key[0]
key[1]
key[1,]
key[,1]
key
class(key)
class(key[1,])
toString(key[1,])
class(toString(key[1,]))
toString(key)
[1,]
toString(key[1,])
token = toString(key[1,])
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$airbnbbed_pressure <-as.numeric(infiltration_geojson$airbnbbed_pressure)
infiltration_geojson$airbnbbed_pressure <- infiltration_geojson$airbnbbed_pressure *100
ms = mapdeck_style("light")
m <- mapdeck(token= key,style = 'mapbox://styles/mapbox/dark-v9', pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
m
set_token(token)
ms = mapdeck_style("light")
m <- mapdeck(token= key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
mapdeck_tokens()
key = read.delim('./mapbox_token.txt',header=F,sep="")
key = read.delim('./mapbox_token.txt',header=F,sep="")
token = toString(key[1,])
set_token(token)
mapdeck_tokens()
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$airbnbbed_pressure <-as.numeric(infiltration_geojson$airbnbbed_pressure)
infiltration_geojson$airbnbbed_pressure <- infiltration_geojson$airbnbbed_pressure *100
ms = mapdeck_style("light")
m <- mapdeck(token= key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
#load libraries
source('./source/EasyLoad.R')
packages <- c('mapdeck','rgdal','sf','geojsonsf','htmlwidgets')
EasyLoad(packages)
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$airbnbbed_pressure <-as.numeric(infiltration_geojson$airbnbbed_pressure)
infiltration_geojson$airbnbbed_pressure <- infiltration_geojson$airbnbbed_pressure *100
ms = mapdeck_style("light")
m <- mapdeck(token= key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
m <- mapdeck(style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
m <- mapdeck(style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
mapdeck_tokens()
key= 'pk.eyJ1Ijoic2VucGFpbWFwIiwiYSI6ImNqeGVodTE2bjBuNnkzeHM4Z2p3aW9vYTkifQ.lXLo4w0noWwxHIUWSYLhmg'
mapdeck_tokens()
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$airbnbbed_pressure <-as.numeric(infiltration_geojson$airbnbbed_pressure)
infiltration_geojson$airbnbbed_pressure <- infiltration_geojson$airbnbbed_pressure *100
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
mapdeck_tokens()
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
key
test = read.delim('./mapbox_token.txt',header=F,sep="")
toStr(test[,1])
toString(test[,1])
key
length(test)
length(key)
class(key)
class(test)
class(test[,1])
class(toString(test[,1]))
key = read.delim('./mapbox_token.txt',header=F,sep="")
key = read.delim('./mapbox_token.txt',header=F)
key = toString(test[,1])
key
key = read.delim('./mapbox_token.txt',header=T)
key = toString(test[,1])
key
key = read.delim('./mapbox_token.txt')
key = toString(test[,1])
key
key = read.delim('./mapbox_token.txt')
key = toString(test[,1])
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
key = toString(key[,1])
key
key = read.delim('./mapbox_token.txt')
key = toString(key[,1])
key
key = read.delim('./mapbox_token.txt',header=F)
key = toString(key[,1])
key
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$airbnbbed_pressure <-as.numeric(infiltration_geojson$airbnbbed_pressure)
infiltration_geojson$airbnbbed_pressure <- infiltration_geojson$airbnbbed_pressure *100
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$airbnbbed_pressure <-as.numeric(infiltration_geojson$airbnbbed_pressure)
infiltration_geojson$airbnbbed_pressure <- infiltration_geojson$airbnbbed_pressure *100
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
View(infiltration_geojson)
View(infiltration_geojson)
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration2018.geojson')
View(infiltration_geojson)
class(infiltration_geojson$dist2hot2018)
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
class(infiltration_geojson$Airbnb_TouristIntensity)
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration2018.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$Airbnb_TouristIntensity <-as.numeric(infiltration_geojson$Airbnb_TouristIntensity)
infiltration_geojson$Airbnb_TouristIntensity <- infiltration_geojson$Airbnb_TouristIntensity *100
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
which( !is.na(infiltration_geojson$dist2hot2018), arr.ind=TRUE)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = infiltration_geojson$dist2hot2018, elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#000000",,elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#000000",elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#1A0000",elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff0080",elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'airbnbbed_pressure',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'airbnbpopup',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
class(infiltration_geojson$Airbnb_TouristIntensity)
infiltration_geojson$Airbnb_TouristIntensity <- infiltration_geojson$Airbnb_TouristIntensity *10000
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'Airbnb_TouristIntensity',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration2018.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$Airbnb_TouristIntensity <-as.numeric(infiltration_geojson$Airbnb_TouristIntensity)
infiltration_geojson$Airbnb_TouristIntensity <- infiltration_geojson$Airbnb_TouristIntensity *100
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'Airbnb_TouristIntensity',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
infiltration_geojson <-geojson_sf('./data/neighbourhoods_infiltration2018.geojson')
infiltration_geojson$dist2hot2018 <-as.numeric(infiltration_geojson$dist2hot2018)
infiltration_geojson$Airbnb_TouristIntensity <-as.numeric(infiltration_geojson$Airbnb_TouristIntensity)
infiltration_geojson$Airbnb_TouristIntensity <- infiltration_geojson$Airbnb_TouristIntensity *1000
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = 'Airbnb_TouristIntensity',palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
ms = mapdeck_style("light")
m <- mapdeck(token = key,style = ms, pitch = 45, location = c(4.895168, 52.370216),zoom=10) %>%
add_polygon(data = infiltration_geojson,fill_colour = "dist2hot2018", na_colour = "#00ff000",elevation = 'Airbnb_TouristIntensity',legend=T,
update_view = F,auto_highlight =T,highlight_colour = "#AAFFFFFF",
tooltip = paste('Beds per inhabitant: ','Airbnb_TouristIntensity'),palette = "ylorrd",legend_options = list(title='Distance (m) 2018')
)
saveWidget(m, file="./infiltration_mapdeck.html",selfcontained = F)
